---
title: Символьные строки
# linkTitle: Docs
# menu: {main: {weight: 20}}
weight: 20
tags: [типы данных, строки]
---

## Символьные строки

**NewLang** поддерживает два типа строк: 
- *:StrChar* - универсальные байтовые UTF-8 строки
- *:StrWide* - системные символьные (широкие символы) 

Единичным элементом универсальной UTF-8 строки является один байт, 
тогда как у системных символьных строк единичным элементом строки является широкий символ *wchar_t*.

И хотя строки различаются типами единичного элемента строки, но внутреннее представление у обоих типов строк одинаковое.
Все данные символьных строки хранятся в виде универсальной байтовой UTF-8 последовательности.

### Байтовые строки (:StrChar)

Единичным элементом универсальной байтовой строки является один байт (точнее *:Int8*, т.е. 8-ми битное целое число со знаком).
Количество символов байтовой строки возвращается в байтах и обращение к элементу строки по индексу происходит к байту символьной последовательности.
Но так как данные строки интерпретируется как последовательность UTF-8 символов, нужно соблюдать осторожность при изменении отдельных байт.


### Системные строки (:StrWide)

Единичным элементом системной строки является широкий символ *wchar_t*, а количество элементов системной символьной строки возвращается в широких символах.
Но так как широкий символ *wchar_t* зависит от операционной системы, то размер одного символа :StrWide в Windows будет 2 байта, а в Linux 4 байта,
что связано с особенностями реализации.

Основоне назначение системных строк - упрощение работы в текстовом терминале, 
т.к. один символ всегда соответствует одному знакоместу без необходимости переконвертирования кодовых точек UTF-8.


### Форматирование строк
К любой переменной можно обратиться как к функции (указав после её имени круглые скобки) для создания копии/клона объекта, 
а для строк, такую операцию можно использовать как шаблон при форматировании данных. 

Если в скобках указать новые и/или изменяемые значения, то при создании клона строки, результирующая копия будет содержать уже измененные данные.

*Например:*
```python
    $template := "${name} $1"; # Шаблон - обычная текстовая строка
    $result := $template("шаблон", name = "Строка"); # result = "Строка шаблон"
```


