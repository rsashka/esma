<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Новый язык программирования | NewLang</title>
<meta name="description" content="Внимание!!!
Данная статья содержит описание синтаксиса NewLnag предыдущей версии.
Актуальную версию синтаксиса языка можно посмотреть тут.
Более года назад я начал публикацию статей с описанием особенностей нового языка программирования. С тех пор утекло много воды, было протестировано множество идей, в итоге несколько раз все поменялось кардинальным образом и сейчас представляю на суд читателей описание предфинальной версии языка и его особенностей.
Данная статья предназначена в первую очередь для проверки основных концепций нового языка программирования, а также для получения обратной связи от читателей Хабра.">
<meta property="og:title" content="Новый язык программирования" />
<meta property="og:description" content="Внимание!!!
Данная статья содержит описание синтаксиса NewLnag предыдущей версии.
Актуальную версию синтаксиса языка можно посмотреть тут.
Более года назад я начал публикацию статей с описанием особенностей нового языка программирования. С тех пор утекло много воды, было протестировано множество идей, в итоге несколько раз все поменялось кардинальным образом и сейчас представляю на суд читателей описание предфинальной версии языка и его особенностей.
Данная статья предназначена в первую очередь для проверки основных концепций нового языка программирования, а также для получения обратной связи от читателей Хабра." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blog/newlang/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-02-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-03-22T23:57:08+03:00" /><meta property="og:site_name" content="NewLang" />
<meta itemprop="name" content="Новый язык программирования">
<meta itemprop="description" content="Внимание!!!
Данная статья содержит описание синтаксиса NewLnag предыдущей версии.
Актуальную версию синтаксиса языка можно посмотреть тут.
Более года назад я начал публикацию статей с описанием особенностей нового языка программирования. С тех пор утекло много воды, было протестировано множество идей, в итоге несколько раз все поменялось кардинальным образом и сейчас представляю на суд читателей описание предфинальной версии языка и его особенностей.
Данная статья предназначена в первую очередь для проверки основных концепций нового языка программирования, а также для получения обратной связи от читателей Хабра."><meta itemprop="datePublished" content="2022-02-18T00:00:00+00:00" />
<meta itemprop="dateModified" content="2024-03-22T23:57:08+03:00" />
<meta itemprop="wordCount" content="5445">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Новый язык программирования"/>
<meta name="twitter:description" content="Внимание!!!
Данная статья содержит описание синтаксиса NewLnag предыдущей версии.
Актуальную версию синтаксиса языка можно посмотреть тут.
Более года назад я начал публикацию статей с описанием особенностей нового языка программирования. С тех пор утекло много воды, было протестировано множество идей, в итоге несколько раз все поменялось кардинальным образом и сейчас представляю на суд читателей описание предфинальной версии языка и его особенностей.
Данная статья предназначена в первую очередь для проверки основных концепций нового языка программирования, а также для получения обратной связи от читателей Хабра."/>





<link href="/scss/main.css" rel="stylesheet">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page td-blog">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">NewLang</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/playground/"><span>Playground</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/blog/"><span>Articles</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">English</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/ru/blog/newlang/">Русский</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <div class="td-sidebar-nav__section nav-item dropdown d-block d-lg-none">
      <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">English</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/ru/blog/newlang/">Русский</a></li>
    </ul>
</div>
    </div>
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-blog-li">
  <a href="/blog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-blog"><span class="">Articles</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogrelease-v04-li">
  <a href="/blog/release-v0.4/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogrelease-v04"><span class="">Релиз языка программрования NewLang 0.4</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogparser-nuances-li">
  <a href="/blog/parser-nuances/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogparser-nuances"><span class="">Нюансы разработки парсера для своего языка программирования</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogdsl-domain-specific-language-implementation-with-macros-li">
  <a href="/blog/dsl-domain-specific-language-implementation-with-macros/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogdsl-domain-specific-language-implementation-with-macros"><span class="">DSL (domain-specific language) implementation with macros</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogrelease-v03-li">
  <a href="/blog/release-v0.3/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogrelease-v03"><span class="">Релиз языка программрования NewLang 0.3</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogrelease-v02-li">
  <a href="/blog/release-v0.2/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogrelease-v02"><span class="">Релиз языка программрования NewLang 0.2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogrelease-v01-li">
  <a href="/blog/release-v0.1/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogrelease-v01"><span class="">Релиз языка программрования NewLang</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-blognewlang-li">
  <a href="/blog/newlang/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-blognewlang"><span class="td-sidebar-nav-active-item">Новый язык программирования</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogprog-styles-same-time-li">
  <a href="/blog/prog-styles-same-time/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogprog-styles-same-time"><span class="">Можно ли использовать декларативный и императивный стили написания программ одновременно?</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogunusual-prog-li">
  <a href="/blog/unusual-prog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogunusual-prog"><span class="">Необычная концепция синтаксиса языка программирования</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-blogcomplex-prog-li">
  <a href="/blog/complex-prog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-blogcomplex-prog"><span class="">Простое сложное программирование</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-bloglang-final-li">
  <a href="/blog/lang-final/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-bloglang-final"><span class="">Какая «идеальная» цель развития у языков программирования?</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-bloglogic-prog-li">
  <a href="/blog/logic-prog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-bloglogic-prog"><span class="">Проблема логических языков программирования</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-bloginter-prog-li">
  <a href="/blog/inter-prog/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-bloginter-prog"><span class="">Интернациональное программирование на естественных языках</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a id="print" href="/blog/_print/"><i class="fa-solid fa-print fa-fw"></i> Print entire section</a>

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#зачем-нужен-newlang">Зачем нужен NewLang?</a>
      <ul>
        <li><a href="#основной-синтаксис">Основной синтаксис</a></li>
        <li><a href="#расширенный-синтаксис">Расширенный синтаксис</a></li>
        <li><a href="#еще-немного-примеров">Еще немного примеров:</a></li>
        <li><a href="#преобразование-тензоров">Преобразование тензоров</a></li>
      </ul>
    </li>
    <li><a href="#синтаксис-newlang">Синтаксис NewLang:</a>
      <ul>
        <li><a href="#основы">Основы</a></li>
        <li><a href="#создания-объектов-и-присвоения-новых-значений">Создания объектов и присвоения новых значений</a></li>
        <li><a href="#идентификаторы-объектов-и-модификаторы">Идентификаторы объектов и модификаторы</a></li>
      </ul>
    </li>
    <li><a href="#система-типов">Система типов</a>
      <ul>
        <li><a href="#арифметические-типы">Арифметические типы:</a></li>
        <li><a href="#строковые-типы-данных">Строковые типы данных:</a></li>
        <li><a href="#составные-типы-данных">Составные типы данных:</a></li>
        <li><a href="#перечисление">Перечисление</a></li>
        <li><a href="#функции">Функции</a></li>
        <li><a href="#специальные-типы-данных">Специальные типы данных:</a></li>
        <li><a href="#преобразование-типов">Преобразование типов</a></li>
      </ul>
    </li>
    <li><a href="#операторы-и-управляющие-конструкции">Операторы и управляющие конструкции</a>
      <ul>
        <li></li>
        <li><a href="#проверки-типов--в-разработке">Проверки типов  (в разработке):</a></li>
      </ul>
    </li>
    <li><a href="#управляющие-конструкции-в-разработке">Управляющие конструкции (в разработке)</a>
      <ul>
        <li><a href="#условный-оператор">Условный оператор</a></li>
        <li><a href="#операторы-циклов-в-планах">Операторы циклов (в планах)</a></li>
        <li><a href="#обработка-ошибок-в-планах">Обработка ошибок (в планах)</a></li>
      </ul>
    </li>
    <li><a href="#как-все-это-попробовать">Как все это попробовать?</a>
      <ul>
        <li><a href="#сборка-repl-из-исходников-пока-только-под-linux">Сборка REPL из исходников (пока только под Linux)</a></li>
      </ul>
    </li>
    <li><a href="#утилита-nlc-newlangcompiler">Утилита nlc (NewLangCompiler)</a></li>
    <li><a href="#планы-на-будущее">Планы на будущее</a></li>
  </ul>
</nav>
      </div>
    
            <div class="taxonomy taxonomy-terms-cloud taxo-tags">
      <h5 class="taxonomy-title">Tag Cloud</h5>
      <ul class="taxonomy-terms">
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B/" data-taxonomy-term="%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B"><span class="taxonomy-label">Итераторы</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/" data-taxonomy-term="%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8"><span class="taxonomy-label">Коллекции</span><span class="taxonomy-count">4</span></a></li>
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D0%BE%D0%BE%D0%BF/" data-taxonomy-term="%D0%BE%D0%BE%D0%BF"><span class="taxonomy-label">ООП</span><span class="taxonomy-count">3</span></a></li>
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B%D0%B5-%D1%82%D0%B8%D0%BF%D1%8B/" data-taxonomy-term="%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B%D0%B5-%D1%82%D0%B8%D0%BF%D1%8B"><span class="taxonomy-label">Системые Типы</span><span class="taxonomy-count">1</span></a></li>
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D1%82%D0%B8%D0%BF%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/" data-taxonomy-term="%D1%82%D0%B8%D0%BF%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85"><span class="taxonomy-label">Типы Данных</span><span class="taxonomy-count">8</span></a></li>
        <li><a class="taxonomy-term" href="http://localhost:1313/tags/%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8/" data-taxonomy-term="%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8"><span class="taxonomy-label">Функции</span><span class="taxonomy-count">1</span></a></li>
        </ul>
    </div>
  
	
          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role="main">
            <a class="td-rss-button" title="RSS" href="/blog/index.xml" target="_blank" rel="noopener">
              <i class="fa-solid fa-rss" aria-hidden="true"></i>
            </a>
            
<div class="td-content">
	<h1>Новый язык программирования</h1>
	
	<div class="td-byline mb-4">
		
		<time datetime="2022-02-18" class="text-muted">Friday, February 18, 2022</time>
	</div>
	<header class="article-meta">
		
  </header>
	<p><img alt="КДПВ" src="/blog/langs.jpeg"></p>


<div class="pageinfo pageinfo-primary">
<p>Внимание!!!</p>
<p>Данная статья содержит описание синтаксиса NewLnag предыдущей версии.</p>
<p>Актуальную версию синтаксиса языка можно посмотреть <a href="/docs/">тут</a>.</p>

</div>

<p>Более года назад я начал публикацию статей с описанием особенностей нового языка программирования.
С тех пор утекло много воды, было протестировано множество идей, в итоге несколько раз все поменялось кардинальным образом
и сейчас представляю на суд читателей описание предфинальной версии языка и его особенностей.</p>
<p>Данная статья предназначена в первую очередь для проверки основных концепций нового языка программирования, а также для получения обратной связи от читателей Хабра.
Ведь согласно наблюдению <a href="https://habr.com/post/539674/">Хабр-ума палата</a>, не замыленный взгляд со стороны очень сильно помогает в проработке новых идей.</p>
<p>Этот проект очень долго был без собственного названия и в публикациях назывался просто и абстрактно &ldquo;новый язык&rdquo;.
Но после нескольких статей, временное название &ldquo;новый язык&rdquo; постепенно превратилось в имя собственное <em>NewLang</em>,
которое я и решил в конечном итоге оставить (что еще раз подтверждает поговорку, что нет ничего более постоянного, чем что-то временное).</p>
<p><strong>NewLang</strong> - это язык программирования высокого уровня в котором можно сочетать стандартные алгоритмические конструкции
с декларативным программированием и тензорными вычислениями для задач машинного обучения.</p>
<p>Основной особенностью языка является легкий, логичный и непротиворечивый синтаксис, который основан не на использовании зарезервированных ключевых слов,
а на строгой системе грамматических правил с использованием знаков препинания (в список которых входят и операторы языка).
Основные свойства и особенности языка:</p>
<ul>
<li>Возможность работы как в режиме интерпретатора, так и компилятора.</li>
<li>Динамическая и статическая типизация с возможностью указания типов в явном виде.</li>
<li>Статическая типизация является условно строгой (автоматическое приведение типов отсутствует, но допускается преобразование между некоторыми типами данных, например, целое число может быть автоматически преобразовано в вещественное, но не наоборот)</li>
<li>Автоматическое управление памятью.</li>
<li>ООП в виде явного наследования классов и <a href="https://ru.wikipedia.org/wiki/%D0%A3%D1%82%D0%B8%D0%BD%D0%B0%D1%8F_%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F">утиная</a> типизация.</li>
<li>На уровне синтаксиса поддержка нескольких типов функций (обычные и <a href="https://ru.wikipedia.org/wiki/%D0%A7%D0%B8%D1%81%D1%82%D0%BE%D1%82%D0%B0_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8">чистые функции без побочных эффектов</a>).</li>
<li>Необязательные и именованные параметры функций.</li>
<li>Возможны вставки кода на языке реализации (С/С++).</li>
<li>Простая интеграция с уже существующими программными библиотеками (в том числе импорт нативных переменных и функций из С/С++).</li>
<li>Имеется REPL <a href="https://ru.wikipedia.org/wiki/REPL">read-eval-print loop — «цикл: чтение — вычисление — вывод»</a>.</li>
</ul>
<h2 id="зачем-нужен-newlang">Зачем нужен NewLang?<a class="td-heading-self-link" href="#%d0%b7%d0%b0%d1%87%d0%b5%d0%bc-%d0%bd%d1%83%d0%b6%d0%b5%d0%bd-newlang" aria-label="Heading self-link"></a></h2>
<p>У всех современных языков программирования происходит постоянное развитие (читай усложнение) синтаксиса по мере выхода новых версий.
Это является своего рода, платой за появление новых возможностей и воспринимается пользователями как естественное явление.</p>
<p>Но одновременно является и серьезной проблемой, т.к. с выходом новых версий добавляются новые ключевые слова и синтаксические конструкции,
что неизбежно повышает порог входа для новых пользователей. Еще одним следствием этого процесса становится постоянное повышение сложности разработки
и трудоемкости поддержки уже созданных программных продуктов, когда старый код дорабатывается с применением уже новых стандартов.</p>
<p>У NewLang сложность языковых конструкций естественно ограничена за счет разделения синтаксиса языка на две части,
что упрощает его изучение и использование. <em>Основной синтаксис</em> — для написания программ в объектно-ориентированном (императивном)
и декларативном стилях, который основан не на зарезервированных ключевых словах, а на строгих грамматических правилах
и <em>Расширенный синтаксис</em> — когда основного синтаксиса становится недостаточно, или требуется использовать языковую конструкцию языка реализации.</p>
<p>Еще одно неудобство современных мейнстримовых языков, большинство из них были созданы до начала эпохи машинного обучения,
поэтому тензорные вычисления у них выполнены в виде отдельных библиотек, а не встроены в основной синтаксис языка и систему базовых типов.
У <em>NewLang</em> тензорные вычисления доступны «из коробки» (используется библиотека <a href="https://pytorch.org/">libtorch</a>),
а арифметические типы данных являются скалярами (тензорами нулевой размерности).</p>
<h3 id="основной-синтаксис">Основной синтаксис<a class="td-heading-self-link" href="#%d0%be%d1%81%d0%bd%d0%be%d0%b2%d0%bd%d0%be%d0%b9-%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81" aria-label="Heading self-link"></a></h3>
<p>Основной синтаксис <em>NewLang</em> - простой и логичный за счет того, что он построен исключительно на грамматических правилах
и не использует каких либо зарезервированных ключевых слов, а все буквенно-символьные последовательности рассматриваются как идентификаторы
в которых можно использовать любые не-ASCII символы.</p>
<blockquote>
<p>Идеализированная цель отказа от ключевых слов, приблизить чтение исходного текста программы к чтению обычного текста за счет использования знаков препинания при описании логики работы алгоритма.</p>
</blockquote>
<blockquote>
<p>Конечно <em>запятая</em> человек может вычленять ключевые управляющие слова языка и <em>слеш</em> или учитывать форматирование программы <em>запятая</em>
чтобы на их основе понимать синтаксические конструкции <em>запятая</em> хотя при обычном чтении мы привыкли опираться именно на семантику
знаков препинания <em>точка</em> мы конечно можем писать знаки препинания и обычным текстом <em>точка</em> но согласитесь <em>запятая</em> что тогда
<em>открытая скобка</em> например <em>запятая</em> вот такой вот текст <em>закрытая скобка</em> будет очень не удобно читать <em>точка</em></p>
</blockquote>
<p>Названия встроенных типов или имена служебных функций системной библиотеки определяются конкретной реализацией языка,
поэтому не являются зарезервированными ключевыми словами и при необходимости могут быть переопределены, например,
для создания собственного, предметно-ориентированного диалекта (<a href="ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA">DSL - domain-specific language</a>), если в этом возникнет необходимость.
Но сама структура программы и логика выполняемого алгоритма все равно останутся понятны всем, кто знаком с правилами основного синтаксиса NewLang.</p>
<p><strong>Пример скрипта Hello world! на NewLang</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">#!./nlc --eval </span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Определение функции hello</span>
</span></span><span style="display:flex;"><span>    hello<span style="color:#ce5c00;font-weight:bold">(</span>str<span style="color:#ce5c00;font-weight:bold">)</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#204a87">printf</span> :<span style="color:#ce5c00;font-weight:bold">=</span> @import<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#39;printf(format:Format, ...):Int&#39;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span>  <span style="color:#8f5902;font-style:italic"># Импорт стандартной C функции</span>
</span></span><span style="display:flex;"><span>    printf<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#39;%s\n&#39;</span>, <span style="color:#000">$str</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span>  <span style="color:#8f5902;font-style:italic"># Вызов C функции с проверкой типов аргументов по строке формата</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    hello<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#39;Привет, мир!&#39;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Вызвать функцию</span>
</span></span></code></pre></div><p>Вывод: Привет, мир!</p>
<h3 id="расширенный-синтаксис">Расширенный синтаксис<a class="td-heading-self-link" href="#%d1%80%d0%b0%d1%81%d1%88%d0%b8%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b9-%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81" aria-label="Heading self-link"></a></h3>
<p>Расширенный синтаксис — это возможность вставить в текст программы NewLang исходный код на языке реализации.
Сейчас это С/С++, что позволяет использовать любые возможности этого мощного языка программирования.</p>
<p>Обработка расширенного синтаксиса происходит на этапе компиляции приложения, а взаимодействие между основным и расширенным синтаксисами происходит за счет совместного использования идентификаторов,
которое полностью прозрачно для пользователя и подчиняется единым грамматическим правилам основного синтаксиса.</p>
<h3 id="еще-немного-примеров">Еще немного примеров:<a class="td-heading-self-link" href="#%d0%b5%d1%89%d0%b5-%d0%bd%d0%b5%d0%bc%d0%bd%d0%be%d0%b3%d0%be-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%d0%be%d0%b2" aria-label="Heading self-link"></a></h3>
<p>Любая последовательность вычислений возвращает результат выполнения последнего оператора.
Поэтому выполнение одной команды или последовательности команд всегда возвращает какой-либо результат,
а оператор возврата из функции необязателен, так как результатом будет значение последнего вычисленного выражения.</p>
<p><strong>Создание переменных</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    scalar :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">42</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0000cf;font-weight:bold">42</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">[</span>1,2,3,4,5,<span style="color:#ce5c00;font-weight:bold">]</span>  <span style="color:#8f5902;font-style:italic"># Тип тензора выводится автоматически</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>1, 2, 3, 4, 5,<span style="color:#ce5c00;font-weight:bold">]</span>:Char
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    str :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;$1 string&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$1</span> string
</span></span></code></pre></div><p><strong>Арифметические операции</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor * <span style="color:#0000cf;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>2, 4, 6, 8, 10,<span style="color:#ce5c00;font-weight:bold">]</span>:Short
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor * <span style="color:#0000cf;font-weight:bold">20</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>20, 40, 60, 80, 100,<span style="color:#ce5c00;font-weight:bold">]</span>:Short
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor * 0.5
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>0.5, 1, 1.5, 2, 2.5,<span style="color:#ce5c00;font-weight:bold">]</span>:Double
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor / <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#8f5902;font-style:italic"># Результат деления — число с плавающей точкой</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>0.5, 1, 1.5, 2, 2.5,<span style="color:#ce5c00;font-weight:bold">]</span>:Double
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor // <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#8f5902;font-style:italic"># Целочисленное деление без остатка</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>0, 1, 1, 2, 2,<span style="color:#ce5c00;font-weight:bold">]</span>:Char&lt;/source&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tensor % <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#8f5902;font-style:italic"># Целочисленный остаток от деления</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>1, 0, 1, 0, 1,<span style="color:#ce5c00;font-weight:bold">]</span>:Char&lt;/source&gt;
</span></span></code></pre></div><p><strong>Строковые операции</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#000">str</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;сцепеление строк &#39;</span> ++ str<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    сцепеление строк <span style="color:#000">$1</span> string
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    str<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#39;строка как шаблон&#39;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    сцепеление строк строка как шаблон string
</span></span></code></pre></div><h3 id="преобразование-тензоров">Преобразование тензоров<a class="td-heading-self-link" href="#%d0%bf%d1%80%d0%b5%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d1%82%d0%b5%d0%bd%d0%b7%d0%be%d1%80%d0%be%d0%b2" aria-label="Heading self-link"></a></h3>
<p>В эпоху машинного обучения тензоры являются основными элементами вычислений,
поэтому для конвертирования <em>данных</em> в тензоры используется отдельная синтаксическая конструкция,
состоящая из двойных квадратных скобок <strong>[[</strong> <em>данные</em> <strong>]]</strong>. Подробнее про особенности преобразования типов можно прочитать далее.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    tstr :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">[[</span><span style="color:#4e9a06">&#34;Тест&#34;</span><span style="color:#ce5c00;font-weight:bold">]]</span>   <span style="color:#8f5902;font-style:italic"># Создать тензор из строки широких символов</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>1058, 1077, 1089, 1090,<span style="color:#ce5c00;font-weight:bold">]</span>:Int
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    t2 :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">[[</span> <span style="color:#4e9a06">&#34;Тест&#34;</span> <span style="color:#ce5c00;font-weight:bold">]]</span>:Int<span style="color:#ce5c00;font-weight:bold">[</span>2,2<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#8f5902;font-style:italic"># Тоже самое, но тензор двухмерный</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">[</span>1058, 1077,<span style="color:#ce5c00;font-weight:bold">]</span>, <span style="color:#ce5c00;font-weight:bold">[</span>1089, 1090,<span style="color:#ce5c00;font-weight:bold">]</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">]</span>:Int&lt;/source&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    StrWide<span style="color:#ce5c00;font-weight:bold">(</span>tstr<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># Конвертировать тензор обратно в строку</span>
</span></span><span style="display:flex;"><span>    Тест
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    Double<span style="color:#ce5c00;font-weight:bold">(</span>t2<span style="color:#ce5c00;font-weight:bold">)</span>    <span style="color:#8f5902;font-style:italic"># Изменить тип данных тезора</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">[</span>1058, 1077,<span style="color:#ce5c00;font-weight:bold">]</span>, <span style="color:#ce5c00;font-weight:bold">[</span>1089, 1090,<span style="color:#ce5c00;font-weight:bold">]</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">]</span>:Double
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    t3 :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">[[</span> t2 <span style="color:#ce5c00;font-weight:bold">]]</span>:Char<span style="color:#ce5c00;font-weight:bold">[</span>4<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#8f5902;font-style:italic"># Преобразовать тип данных тензора и его размерность</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">[</span>34, 53, 65, 66,<span style="color:#ce5c00;font-weight:bold">]</span>:Char
</span></span></code></pre></div><h2 id="синтаксис-newlang">Синтаксис NewLang:<a class="td-heading-self-link" href="#%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81-newlang" aria-label="Heading self-link"></a></h2>
<p>При разработке синтаксиса я старался придерживаться уже сложившихся правил, чтобы не создавать множественных смыслов,
зависящих от контекста. <del>И одновременно «объять необъятное»</del></p>
<h3 id="основы">Основы<a class="td-heading-self-link" href="#%d0%be%d1%81%d0%bd%d0%be%d0%b2%d1%8b" aria-label="Heading self-link"></a></h3>
<ul>
<li>Операторы разделяются точкой с запятой «;».</li>
<li>Отступы и переводы строк игнорируются (очень хотелось иметь возможность автоматического форматирование кода).</li>
<li>Многострочные комментарии в исходном коде соответствуют стилю С/С++ и должны располагаться между символами /* и */. Вложенность многострочных комментариев не поддерживается.</li>
<li>Однострочные комментарии начинаются с символа «#» до перевода строки, что соответствует комментариям в стиле Python и Bash.</li>
<li>Последовательность выполняемых команд, которая должна выполняться как единое целое, заключается в фигурные скобки «{}».</li>
<li>Программные вставки расширенного синтаксиса на языке реализации заключается в фигурные скобки со знаком процента <strong>%{</strong> <em>/* тут может быть любой код на C/C++*/</em> <strong>%}</strong>.</li>
</ul>
<h3 id="создания-объектов-и-присвоения-новых-значений">Создания объектов и присвоения новых значений<a class="td-heading-self-link" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d1%8f-%d0%be%d0%b1%d1%8a%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d0%b8-%d0%bf%d1%80%d0%b8%d1%81%d0%b2%d0%be%d0%b5%d0%bd%d0%b8%d1%8f-%d0%bd%d0%be%d0%b2%d1%8b%d1%85-%d0%b7%d0%bd%d0%b0%d1%87%d0%b5%d0%bd%d0%b8%d0%b9" aria-label="Heading self-link"></a></h3>
<p>Для создания объектов и присвоения им новых значений в NewLang используется сразу три разных оператора.<br>
Оператор «<strong>::=</strong>» используется только для создания новых объектов, а если объект с таким именем уже существует, то генерируется ошибка.<br>
Оператор «<strong>:=</strong>» используется для тех же целей, но если объект с таким именем уже существует, то ошибки не происходит,
а новое значение присваивается уже существующему объекту.<br>
И последний оператор «<strong>=</strong>» применяется только для присвоения значения уже существующим объектам, и если объект с указанным именем отсутствует, то тоже происходит ошибка.</p>
<p>Использование трех разных операторов для создания/изменения объектов позволяет более гибко контролировать подобные операции и выявлять логические ошибки в коде на более раннем этапе.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#000">var</span> <span style="color:#ce5c00;font-weight:bold">::=</span> <span style="color:#0000cf;font-weight:bold">1.0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#a40000">#</span> <span style="color:#a40000">Создать</span> <span style="color:#a40000">новую</span> <span style="color:#a40000">переменную</span> <span style="color:#000">var</span> <span style="color:#a40000">без</span> <span style="color:#a40000">указания</span> <span style="color:#a40000">типа</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">var</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#a40000">#</span> <span style="color:#a40000">Присвоить</span> <span style="color:#a40000">новое</span> <span style="color:#a40000">значение</span> <span style="color:#a40000">уже</span> <span style="color:#a40000">существующей</span> <span style="color:#a40000">переменной</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f57900">printf</span> <span style="color:#000;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#a40000">@</span><span style="color:#000">import</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">&#39;</span><span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#f57900">format</span><span style="color:#000;font-weight:bold">:</span><span style="color:#000">Format</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">...)</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#000">Int</span><span style="color:#a40000">&#39;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#8f5902;font-style:italic">/* Создать новый или переопределить 
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">    объект printf, который будет результатом выполнения глобальной функции @import */</span>
</span></span></code></pre></div><h3 id="идентификаторы-объектов-и-модификаторы">Идентификаторы объектов и модификаторы<a class="td-heading-self-link" href="#%d0%b8%d0%b4%d0%b5%d0%bd%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%be%d1%80%d1%8b-%d0%be%d0%b1%d1%8a%d0%b5%d0%ba%d1%82%d0%be%d0%b2-%d0%b8-%d0%bc%d0%be%d0%b4%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%be%d1%80%d1%8b" aria-label="Heading self-link"></a></h3>
<p>В качестве идентификаторов можно использовать буквы, цифры и знаки подчеркивания в любых комбинациях, при условии,
что первый символ идентификатора не является цифрой.</p>
<p>В NewLang существует возможность указания области видимости и времени жизни объекта с помощью модификатора — специального символа перед
именем переменной. Это может показаться немного похожим на венгерскую нотацию, но в отличие от нее,
модификатор не имеет отношения к типу объекта и не является частью имени идентификатора.
К тому же в качестве модификаторов используется строго определённые символы, назначение которых определено заранее.</p>
<p>Так, символ «<strong>$</strong>» в начале имени обозначает локальную переменную, время жизни которой ограничено текущей областью видимости и при её завершении локальная переменная уничтожается.
Символ «<strong>@</strong>» обозначает глобальную переменную, а сам объект сохраняет свое состояние даже после выхода из текущей области видимости.
Так же обозначаются и имена типов данных, например, при создания новых типов, а в качестве модификатора используется символа двоеточия «<strong>:</strong>»</p>
<p>Семантика обращения к аргументам функций очень похоже на работу с аргументами в bash скриптах, где <strong>$1</strong> или <strong>$arg</strong> — порядковый номер
или имя аргумента (происходит обращение к локальным переменным в текущей области видимости).</p>
<p>Использование модификаторов является обязательным только в двух случаях:
- При создании нового типа данных, так как типы всегда создаются в глобальной области видимости, а их символьные имена должны быть уникальными
- При обращении к объектам NewLang внутри программных вставок кода на языке реализации, так как они используется как маркеры при поиске идентификаторов NewLang в коде С/С++.</p>
<p>В остальных случаях, для обращения к переменным указывать их модификаторы не обязательно.
И если при обращении к объекту модификатор не указан, то сперва ищется локальная переменная, а потом глобальная с таким же именем.
Причем, локальная переменная будет перекрывать глобальную.</p>
<p>Так же следует иметь в виду, что компилятор может генерировать код для прямого обращения к локальным объектам уже на этапе компиляции,
тогда как для обращения к глобальным объектам, или если модификатор области видимости отсутствует, компилятор вынужден каждый раз встраивать runtime вызов функции поиска объекта в таблице символов.</p>
<h2 id="система-типов">Система типов<a class="td-heading-self-link" href="#%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%b0-%d1%82%d0%b8%d0%bf%d0%be%d0%b2" aria-label="Heading self-link"></a></h2>
<p>Так как система типов языка динамическая, то явное указание типа не влияет на размер переменной и является только своего рода логическим ограничением на возможность присвоения переменной значения другого типа.</p>
<p>Информация о типах используется при проверке их совместимости, когда существующему  объекту присваивается значение другого типа.
Такая операция возможна только когда типы совместимы между собой и допускают автоматическое приведение.
Это справедливо как во время парсинга/компиляции исходного теста, так и во время выполнения в режимах интерпретатора и/или скомпилированного файла.</p>
<h3 id="арифметические-типы">Арифметические типы:<a class="td-heading-self-link" href="#%d0%b0%d1%80%d0%b8%d1%84%d0%bc%d0%b5%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%d0%b5-%d1%82%d0%b8%d0%bf%d1%8b" aria-label="Heading self-link"></a></h3>
<p>Арифметические типы данных являются тензорами - массивами чисел одного типа с произвольным количеством измерений и одинаковым размером столбцов в каждом.
Единичное число тоже тензор нулевого размера.</p>
<p>Поддерживаются только знаковые целые числа, т.к. в беззнаковых числах особая нужда отсутствует, а проблем с ними можно найти очень много на ровном месте.</p>
<p><strong>Проблемы беззнаковых чисел (из интернета)</strong></p>
<blockquote>
<p>Во-первых, вычитание двух беззнаковых чисел, например 3 и 5. 3 минус 5 равно 4294967294,
т.к. -2 не может быть представлено как беззнаковое число. Во-вторых, непредвиденное поведение может возникнуть при смешивании целочисленных
значений со знаком и без знака. С++ может свободно преобразовывать числа со знаком и без знака,
но не проверяет диапазон, чтобы убедиться, что вы не переполняете свой тип данных.</p>
<p>В C++ всё же есть несколько случаев, когда можно (или необходимо) использовать беззнаковые числа.
Во-первых, числа без знака предпочтительнее при работе с битами. Во-вторых, использование беззнаковых чисел связаных с индексацией массивов.</p>
</blockquote>
<p>Но это мой случай, так как индекс может быть отрицательным и даже не числом, а диапазоном или многоточием.
З.Ы. И даже зная об этом, все равно умудрился недавно словить баг с отрицательными индексами у словарей!</p>
<p>Имена встроенных арифметических типов говорят сами за себя: Char, Short, Int, Long, Float, Double, ComplexFloat, ComplexDouble.
Отдельным типом идет логический тип Bool, который может принимать значения только 0 или 1 (false/true соответственно),
и в зависимости от выполняемой операции может быть отнесен к целочисленным типам, так и не входить в их состав.</p>
<p><em>(данный подход интерпретации логического типа данных был взят из библиотеки Torch)</em></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Treat bool as a distinct &#34;category,&#34; to be consistent with type promotion
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// rules (e.g. `bool_tensor + 5 -&gt; int64_tensor`). If `5` was in the same
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// category as `bool_tensor`, we would not promote. Differing categories
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// implies `bool_tensor += 5` is disallowed.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// NB: numpy distinguishes &#34;unsigned&#34; as a category to get the desired
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// `bool_tensor + 5 -&gt; int64_tensor` behavior. We don&#39;t, because:
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * We don&#39;t want the performance hit of checking the runtime sign of Scalars.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * `uint8_tensor + 5 -&gt; int64_tensor` would be undesirable.
</span></span></span></code></pre></div><p>В будущем планируется добавить классы чисел для длинной арифметики и дробей, для чего зарезервированы названия типов BigNum, Currency и Fraction.</p>
<p>Доступ к элементам тензора происходит по целочисленному индексу, который начинается с 0.
Для многомерного тензора, индексы элемента перечисляются в квадратных скобках через запятую.
Поддерживается доступ к элементам через отрицательный индекс, который обрабатывается точно так же,
как в Python (-1 последний элемент, -2 предпоследний и т.д.).</p>
<p>Литерал тензор в тексте программы записывается в квадратных скобках с обязательной завершающей запятой, т.е. [1, 2,] - это литерал одномерный тензор из двух чисел.
После закрывающей скобки тип тензора может быть указан в явном виде. Если тип не указан, то он выводится автоматически на основании указанных данных и выбирается минимально возможный байтовый размер,
который позволяет сохранить все значения без потери точности.</p>
<p>Примеры:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#000">$var_char</span> :<span style="color:#ce5c00;font-weight:bold">=</span> 123<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тип Char выводится автоматически</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var_short</span> :<span style="color:#ce5c00;font-weight:bold">=</span> 1000<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тип Short выводится автоматически</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var_bool</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">[</span>0, 1, 0, 1,<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тензор из 4 элементов. Тип Bool выводится автоматически</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$tensor</span><span style="color:#ce5c00;font-weight:bold">[</span>10,10<span style="color:#ce5c00;font-weight:bold">]</span>:Int :<span style="color:#ce5c00;font-weight:bold">=</span> 1<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тензор Int размером 2x2 инициализированный 1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$scalar</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">$tensor</span><span style="color:#ce5c00;font-weight:bold">[</span>5,5<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Присвоить скаляру значение указанного элемента тензора</span>
</span></span></code></pre></div><h3 id="строковые-типы-данных">Строковые типы данных:<a class="td-heading-self-link" href="#%d1%81%d1%82%d1%80%d0%be%d0%ba%d0%be%d0%b2%d1%8b%d0%b5-%d1%82%d0%b8%d0%bf%d1%8b-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85" aria-label="Heading self-link"></a></h3>
<p>Поддерживаются два типа строк, StrWide - символьные (широкие) и StrChar — байтовые. Различия между ними заключается в типе единичного элемента.
У символьных строк единичным элементом является широкий символ wchar_t, а у байтовой строки единичным элементом является один байт (точнее char, т. е. байт со знаком).
Символьные строки литералы в исходном тексте записывается в «двойных кавычках», а байтовые строки в &lsquo;одинарных кавычках&rsquo;.</p>
<p>Количество элементов символьной строки возвращается в широких символах, а размер байтовой строки в байтах, поэтому и обращение к элементу строки по индексу происходит соответственно либо к символу, либо к байту.</p>
<p>Важный момент. К любой переменной можно обратиться так же, как к функции (записав после её имени круглые скобки).
Результатом этой операции будет создание копии/клона объекта. Причем  некоторые типы (словари, классы и символьные строки) можно использовать в качестве шаблона
при создании копии объекта с модифицированными свойствами, если новые и/или изменяемые значения указать в скобках, как аргументы при вызовах функций.
Так, если при создании копии в скобках указать набор новых данных, то результирующая копия будет содержать уже измененные данные.</p>
<p>Например:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#000">$template</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;</span><span style="color:#4e9a06">${</span><span style="color:#000">name</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06"> </span><span style="color:#000">$1</span><span style="color:#4e9a06">&#34;</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Обычная строка</span>
</span></span><span style="display:flex;"><span><span style="color:#000">$result</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">$template</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;шаблон&#34;</span>, <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;Строка&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># result = &#34;Строка шаблон&#34;</span>
</span></span></code></pre></div><h3 id="составные-типы-данных">Составные типы данных:<a class="td-heading-self-link" href="#%d1%81%d0%be%d1%81%d1%82%d0%b0%d0%b2%d0%bd%d1%8b%d0%b5-%d1%82%d0%b8%d0%bf%d1%8b-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85" aria-label="Heading self-link"></a></h3>
<h4 id="словарь">Словарь<a class="td-heading-self-link" href="#%d1%81%d0%bb%d0%be%d0%b2%d0%b0%d1%80%d1%8c" aria-label="Heading self-link"></a></h4>
<p>Словарь — набор данных произвольного типа с доступом к отдельным элементам по целочисленному индексу или по имени элемента при его наличии
(он похож и на tuple и на структуру одновременно). Словари от тензоров отличаются тем, что являются только одномерными массивами,
но каждый элемент может содержать произвольное количество элементов любого типа, в том числе и другие словари.</p>
<p>Доступ к элементам словарей происходит по имени элемента, которое записывается через точку от имени переменной, либо по целочисленному индексу.
Индекс также начинается с 0 и как у тензоров, тоже может быть отрицательным.</p>
<p>Литерал с типом «словарь» в тексте программы записывается в круглых скобках с обязательной завершающей запятой,
т.е. (,) - пустой словарь,  (1, 2= «2», name=3,).</p>
<h3 id="перечисление">Перечисление<a class="td-heading-self-link" href="#%d0%bf%d0%b5%d1%80%d0%b5%d1%87%d0%b8%d1%81%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5" aria-label="Heading self-link"></a></h3>
<p>Перечисление - это не отдельный тип данных, а обычный словарь, у которого все элементы имеют уникальные имена и целочисленные значение,
которое явно указывается при определении или вычисляется автоматически (на единицу больше предыдущего элемента).
У перечислений тип значения указывается сразу после закрывающей скобки через двоеточие (ONE=1, TWO=, THREE=): Int.</p>
<h4 id="классы">Классы<a class="td-heading-self-link" href="#%d0%ba%d0%bb%d0%b0%d1%81%d1%81%d1%8b" aria-label="Heading self-link"></a></h4>
<p>Класс  (реализовано частично) - тип данных, с помощью которого реализуется один из принципов ООП - наследование.
При создании экземпляра класса создается новая переменная, у которой сохраняется информацию о своем родителе
и которая наследует от него свойства и методы. Тип данных «класс» аналогичен словарю,
но все свойства обязаны иметь имена (хотя доступ к свойствам класса по индексу так же возможен).
Литерал с типом «Класс» в тексте программы записывается в круглых скобках без завершающей запятой, т. е. () - пустой класс,  (1, 2= «2», name=3).</p>
<p>Пока остальные детали классов до конца не реализованы, поэтому описывать их не буду, т. к. в итоговом варианте синтаксис классов и определения их методов могут поменяться.</p>
<h3 id="функции">Функции<a class="td-heading-self-link" href="#%d1%84%d1%83%d0%bd%d0%ba%d1%86%d0%b8%d0%b8" aria-label="Heading self-link"></a></h3>
<p>Синтаксис NewLang поддерживать несколько типов функций (а в будущем и методов классов): обычные функции, чистые функции и простые чистые функции.</p>
<p>Для всех типов функций поддерживаются аргументы по умолчанию. При создании функции, её аргументы указываются как в Питоне,
т.е. вначале идут обязательные аргументы, потом аргументы со значениями по умолчанию,
где имя аргумента отделяется от его значения по умолчанию знаком равно «=».
Если функция допускает обработку произвольного количества аргументов, то последним в списке параметров указывается многоточие.</p>
<h4 id="обычная-функция">Обычная функция<a class="td-heading-self-link" href="#%d0%be%d0%b1%d1%8b%d1%87%d0%bd%d0%b0%d1%8f-%d1%84%d1%83%d0%bd%d0%ba%d1%86%d0%b8%d1%8f" aria-label="Heading self-link"></a></h4>
<p>Обычная функция — такие функции являются именно обычными функциями в понимании С/С++.
Внутри них можно писать совершенно любой код, включая проверки условий, циклы, вызовы других функций и т.д.</p>
<p>Внутри обычной функции можно обращаться к локальным и глобальным объектам, и они могут содержаться вставки на языке реализации, например, для вызова функций из внешних библиотек.</p>
<p>Вставки на языке реализации оформляются в виде <strong>%{</strong>     <strong>%}</strong> и могут содержать любой текст на С/С++,
а прямо из него можно обращаться к локальным и глобальным объектам NewLang так же, как и в обычном синтаксисе,
указывая первым символом имени соответствующий модификатор (<strong>$</strong> для локальных объектов и <strong>@</strong> для глобальных).</p>
<p>Технически, такая программная вставка просто переносится трансплайтером непосредственно в исходный текст генерируемого файла,
а все идентификаторы NewLang специальным образом декорируются (добавляются специальные маркеры для их идентификации),
после этого исходный текст подается на вход обычному компилятору С++.
Для локальных объектов трансплайтер может генерировать код для прямого доступа к объекту на этапе компиляции,
а для работы с глобальными объектами вынужден использовать runtime вызовы функции поиска в таблице символов.</p>
<p>Например:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#000">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">str</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">{</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">%</span><span style="color:#000;font-weight:bold">{</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#000">printf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;%s&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">static_cast</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#204a87;font-weight:bold">char</span> <span style="color:#ce5c00;font-weight:bold">*&gt;</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">$</span><span style="color:#000">str</span><span style="color:#000;font-weight:bold">));</span> <span style="color:#8f5902;font-style:italic">/* Прямой вызов С функции */</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">%</span><span style="color:#000;font-weight:bold">}</span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">};</span>
</span></span></code></pre></div><h4 id="чистые-функции">Чистые функции<a class="td-heading-self-link" href="#%d1%87%d0%b8%d1%81%d1%82%d1%8b%d0%b5-%d1%84%d1%83%d0%bd%d0%ba%d1%86%d0%b8%d0%b8" aria-label="Heading self-link"></a></h4>
<p>Чистая функция - это тоже обычная функция, только в том смысле, какой в него вкладывает функциональное программирование.
Создания чистой функции происходит с помощью оператора «:-». У чистой функции отсутствует доступ к контексту и глобальным объектам,
поэтому она может обрабатывать только те данные, которые были ей переданы в качестве аргументов.</p>
<p>Программные вставки на языке реализации внутри чистых функций не запрещены и могут использоваться, например, для отладки.
Но делается это на страх и риск разработчика. Именно он отвечает за их «чистоту», например при вызове функций из внешних библиотек.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    Sum<span style="color:#ce5c00;font-weight:bold">(</span>arg1, arg2<span style="color:#ce5c00;font-weight:bold">)</span> :- <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">$arg1</span>+<span style="color:#000">$arg2</span><span style="color:#000;font-weight:bold">;</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Вернуть сумму аргументов</span>
</span></span></code></pre></div><p>Так как в языке отсутствует оператор возврата данных из текущего блока выполнения (аналог оператора return &lt;данные&gt;),
то возвращаемым значением функции / блока кода всегда является результат выполнения последней операции.</p>
<h4 id="простые-чистые-функции">Простые чистые функции<a class="td-heading-self-link" href="#%d0%bf%d1%80%d0%be%d1%81%d1%82%d1%8b%d0%b5-%d1%87%d0%b8%d1%81%d1%82%d1%8b%d0%b5-%d1%84%d1%83%d0%bd%d0%ba%d1%86%d0%b8%d0%b8" aria-label="Heading self-link"></a></h4>
<p>Простые чистые функции — отдельный класс чистых функций, которые предназначены только для вычисления логического результата
(т.е. они являются предикатами) и их отличает упрощенная формой записи.
Тело простой чистой функции состоит из последовательности операторов, которые разделяются запятыми и заканчиваются,
как и любое выражение, точкой с запятой. Все операторы простой чистой функции всегда приводятся к булевому значению,
а итоговый результат функции вычисляется по одной из возможных логических операций:  <em>И</em>, <em>ИЛИ</em> и <em>исключающее ИЛИ</em>.</p>
<p>Например:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    func_and<span style="color:#ce5c00;font-weight:bold">(</span>arg1, arg2<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&amp;&amp;=</span> <span style="color:#000">arg1</span><span style="color:#ce5c00;font-weight:bold">==</span>3, arg2 &gt; 0<span style="color:#000;font-weight:bold">;</span>  <span style="color:#8f5902;font-style:italic"># Простая чистая функция Логическое И</span>
</span></span><span style="display:flex;"><span>    func_or<span style="color:#ce5c00;font-weight:bold">(</span>arg1, arg2<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">||=</span> <span style="color:#000">arg1</span><span style="color:#ce5c00;font-weight:bold">==</span>3, arg2 &gt; 0<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Простая чистая функция Логическое ИЛИ</span>
</span></span><span style="display:flex;"><span>    func_xor<span style="color:#ce5c00;font-weight:bold">(</span>arg1, arg2<span style="color:#ce5c00;font-weight:bold">)</span> ^^<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">arg1</span><span style="color:#ce5c00;font-weight:bold">==</span>3, arg2 &gt; 0<span style="color:#000;font-weight:bold">;</span>  <span style="color:#8f5902;font-style:italic"># Простая чистая функция Исключающее ИЛИ</span>
</span></span></code></pre></div><h3 id="специальные-типы-данных">Специальные типы данных:<a class="td-heading-self-link" href="#%d1%81%d0%bf%d0%b5%d1%86%d0%b8%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%82%d0%b8%d0%bf%d1%8b-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85" aria-label="Heading self-link"></a></h3>
<h4 id="none">None<a class="td-heading-self-link" href="#none" aria-label="Heading self-link"></a></h4>
<p>None (пустой тип) — не содержит значения (точнее имеет одно значение None) и совместим с любым другим типом данных.
Указывается в тексте программы как один подчерк «_». Значение None имеют не инициализированные переменные
и при попытке чтения из такой переменной возникает ошибка.</p>
<p>Тип переменной может быть явно указан или выведен автоматически из присваиваемого значения.
Присвоить новое значение уже инициализированной переменной можно только для совместимого типа, так как неявное преобразование типов не допускаются.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#000">$var</span> :<span style="color:#ce5c00;font-weight:bold">=</span> _<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Создать переменную со значением None</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var2</span> :<span style="color:#ce5c00;font-weight:bold">=</span> var<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Ошибка!!! Нельзя прочитать неинициализированную переменную var</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var</span> <span style="color:#ce5c00;font-weight:bold">=</span> 1000<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># У переменной будет тип Short (минимальный размер для хранения значения)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var</span> <span style="color:#ce5c00;font-weight:bold">=</span> 0,5<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Ошибка!!! Short ← Float не совместимы</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var</span> <span style="color:#ce5c00;font-weight:bold">=</span> _<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Очистить значение переменной</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$var</span> <span style="color:#ce5c00;font-weight:bold">=</span> 0,5<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Теперь можно, т. к. None совместим с любым типом</span>
</span></span></code></pre></div><h4 id="диапазон-range">Диапазон (Range)<a class="td-heading-self-link" href="#%d0%b4%d0%b8%d0%b0%d0%bf%d0%b0%d0%b7%d0%be%d0%bd-range" aria-label="Heading self-link"></a></h4>
<p>Диапазон  (реализовано частично) — специальный тип данных, являющейся приблизительным аналогом типа «генератор» в Python.
К диапазону можно обращаться как к итератору и он будет поочередно выдавать элементы в указанном интервале с заданным шагом.
Диапазон в тексте программы указывается как два или три элемента через две точки, например 1..5 — диапазон от единицы до пяти с шагом по умолчанию 1.
В качестве параметров диапазона можно указывать не только литералы, но и имена переменных.
Например,  0,1..<em>$stop</em>..0,1 — диапазон от значения 0,1 до значения, указанного в переменной <em>$stop</em> с шагом 0,1.</p>
<p>Диапазон для целых чисел можно использовать в качестве индекса у тензоров (точнее, у любых объектов, которые допускают доступ к своим элементам по индексу,
т.е. тензоры, словари и текстовые строки). Фактический, это поведение аналогично slice в языке Python и array[1:5]
в Python означает тоже самое, что и array[1..5] в NewLang.</p>
<p>В качестве индекса у тензоров еще можно указать произвольное количество измерений с помощью многоточия, т.е.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#000">$tensor</span><span style="color:#ce5c00;font-weight:bold">[</span>…, 0<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> 0<span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Обнулить все первые элементы в каждом измерении.</span>
</span></span></code></pre></div><h4 id="итераторы">Итераторы<a class="td-heading-self-link" href="#%d0%b8%d1%82%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b" aria-label="Heading self-link"></a></h4>
<p>Итераторы  (в разработке) - самый сложный и неоднозначный тип данных для работы с элементами коллекций.<br>
Для работы с итераторами зарезервированы символы &ldquo;!&rdquo; и &ldquo;?&rdquo;, но сами итераторы пока не реализованы.</p>
<h3 id="преобразование-типов">Преобразование типов<a class="td-heading-self-link" href="#%d0%bf%d1%80%d0%b5%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d1%82%d0%b8%d0%bf%d0%be%d0%b2" aria-label="Heading self-link"></a></h3>
<h4 id="явное-приведение-типов">Явное приведение типов<a class="td-heading-self-link" href="#%d1%8f%d0%b2%d0%bd%d0%be%d0%b5-%d0%bf%d1%80%d0%b8%d0%b2%d0%b5%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5-%d1%82%d0%b8%d0%bf%d0%be%d0%b2" aria-label="Heading self-link"></a></h4>
<p>Несмотря на динамическую типизацию языка, если тип переменной указан явно, то автоматическое приведение типов не выполняется,
и чтобы присвоить переменой значение не совместимого типа, требуется явное преобразование.</p>
<p>Так как символьные названия типов относятся к деталям реализации, то явное преобразование в конкретный тип данных производится с помощью вызова функции с системным именем,
т. е. Bool(), StrWide(), Long  и т. д. Причем у тензоров при таком преобразовании изменяется только тип данных, но размерность тензора не меняется.</p>
<p>Для преобразования любого типа данных в строку ещё можно использовать оператор конкатенации строк, которой преобразует любой тип данных в строковое представление.
Но так как строковых типов два (байтовые и широкие строки), то тип строки определяется первым аргументом в операторе конкатенации, т. е.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;&#34;</span> ++ <span style="color:#0000cf;font-weight:bold">123</span> <span style="color:#8f5902;font-style:italic"># &#34;123&#34; - Строка широких символов</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#39;&#39;</span> ++ <span style="color:#0000cf;font-weight:bold">123</span> <span style="color:#8f5902;font-style:italic"># &#39;123&#39; - Байтовая строка</span>
</span></span></code></pre></div><pre><code>Или преобразовать любое значение в строковое с помощью строки-шаблона:
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    val :<span style="color:#ce5c00;font-weight:bold">=</span> 12345<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;</span><span style="color:#000">$1</span><span style="color:#4e9a06">&#34;</span><span style="color:#ce5c00;font-weight:bold">(</span>val<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># Будет строка &#34;12345&#34;</span>
</span></span></code></pre></div><h4 id="tensor-comprehensions">Tensor comprehensions<a class="td-heading-self-link" href="#tensor-comprehensions" aria-label="Heading self-link"></a></h4>
<p>В эпоху машинного обучения тензоры являются основным элементом вычислений, поэтому для конвертирования <em>данных</em> в тензоры используется отдельная синтаксическая конструкция,
состоящая из двойных квадратных скобок <strong>[[</strong> <em>данные</em> <strong>]]</strong>. Фактически это оператор и функция времени выполнения в зависимости от указанных между двойные квадратными скобками выражения.</p>
<p>Чтобы преобразовать любую переменную в тензор (с учетом допустимости такого преобразования), её достаточно указать между двойными квадратными скобками.
Выражение <strong>[[</strong> <em>varibale</em> <strong>]]</strong> - преобразует переменную  <em>varibale</em> в одномерный тензор с автоматическим выводом типа данных.
Для преобразования в одномерный тензор конкретного типа используется выражение <strong>[[</strong> <em>varibale</em> <strong>]]</strong>:<em>Type</em>, где _Type- - любой из арифметических типов.</p>
<p>Если требуется преобразовать переменную не в одномерный тензор, а в тензор конкретного типа и заданной размерности,
то это делается выражением [[ varibale  ]]:Type[2,2], которая вернет тензор с размерностью 2х2 и типом Type у элементов.</p>
<p>Внутри двойных квадратных скобок может быть не только любое выражение, но и литерал или диапазон.
В этом случае, они также раскрываются в тензор по таким же правилам.<br>
В будущем планирую добавить возможность указания сразу нескольких значений через запятую для их объединения в один тензор.</p>
<p>Примеры:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)]]</span>  <span style="color:#8f5902;font-style:italic"># Тензор из словаря</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,]:</span><span style="color:#000">Char</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[</span><span style="color:#4e9a06">&#39;first second&#39;</span><span style="color:#000;font-weight:bold">]]</span>  <span style="color:#8f5902;font-style:italic"># Байтовая строка в тензор</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">102</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">105</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">114</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">115</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">116</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">32</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">115</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">101</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">111</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">110</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">,]:</span><span style="color:#000">Char</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">[[(</span><span style="color:#000">first</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;first&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">space</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">32</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">second</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;second&#39;</span><span style="color:#000;font-weight:bold">)]]</span>  <span style="color:#8f5902;font-style:italic"># Получаем тензор из словаря с такими же данными</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">102</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">105</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">114</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">115</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">116</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">32</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">115</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">101</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">111</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">110</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">,]:</span><span style="color:#000">Char</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#ce5c00;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">]]:</span><span style="color:#000">Double</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span>   <span style="color:#8f5902;font-style:italic"># Тензор заданного формата с нулями</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]:</span><span style="color:#000">Double</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[</span> <span style="color:#000">rand</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">]]:</span> <span style="color:#000">Int</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span>  <span style="color:#8f5902;font-style:italic"># Тензор со случайными данными</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1804289383</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">846930886</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1681692777</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1714636915</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1957747793</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">424238335</span><span style="color:#000;font-weight:bold">,],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]:</span><span style="color:#000">Int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[</span> <span style="color:#0000cf;font-weight:bold">0..10</span> <span style="color:#000;font-weight:bold">]]:</span> <span style="color:#000">Int</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">]</span>  <span style="color:#8f5902;font-style:italic"># Тензор из диапзона</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">9</span><span style="color:#000;font-weight:bold">,],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]:</span><span style="color:#000">Int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">[[</span> <span style="color:#0000cf;font-weight:bold">0..0.99</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#0000cf;font-weight:bold">.0.1</span> <span style="color:#000;font-weight:bold">]]</span>  <span style="color:#8f5902;font-style:italic"># Или даже так</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.6</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.8</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.9</span><span style="color:#000;font-weight:bold">,]:</span><span style="color:#000">Double</span><span style="color:#ce5c00;font-weight:bold">&lt;/</span><span style="color:#000">source</span><span style="color:#ce5c00;font-weight:bold">&gt;</span>
</span></span></code></pre></div><h2 id="операторы-и-управляющие-конструкции">Операторы и управляющие конструкции<a class="td-heading-self-link" href="#%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b-%d0%b8-%d1%83%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d1%8f%d1%8e%d1%89%d0%b8%d0%b5-%d0%ba%d0%be%d0%bd%d1%81%d1%82%d1%80%d1%83%d0%ba%d1%86%d0%b8%d0%b8" aria-label="Heading self-link"></a></h2>
<h4 id="операторы">Операторы:<a class="td-heading-self-link" href="#%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b" aria-label="Heading self-link"></a></h4>
<p>Все операторы имеют парный оператор с присвоением значения.</p>
<ul>
<li><strong>+</strong> и += сложение арифметических типов данных</li>
<li>
<ul>
<li>и -= вычитание арифметических типов данных</li>
</ul>
</li>
<li>/ и /= деление (результат число с плавающей точкой)</li>
<li>// и //= целочисленное деление с округлением к меньшему числу (как в Python)</li>
<li>
<ul>
<li>и *= умножение</li>
</ul>
</li>
<li>** и **=  возведение в степень (он же используется и для повторения текстовых строк)</li>
<li>++ и ++= конкатенация строк с автоматическим приведением аргументов к стоковому типу (символ инкремента специально используется вместо одиночного плюса для того, чтобы в явном виде разделить конкатенацию строк и операторы арифметического сложения)</li>
</ul>
<h4 id="операторы-сравнения">Операторы сравнения:<a class="td-heading-self-link" href="#%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b-%d1%81%d1%80%d0%b0%d0%b2%d0%bd%d0%b5%d0%bd%d0%b8%d1%8f" aria-label="Heading self-link"></a></h4>
<ul>
<li>&lt;, &gt;, &lt;=, &gt;=  классические для сравнения скаляров</li>
<li>==, != операторы сравнения с автоматическим приведением совместимых типов для любых объектов</li>
<li>===, !== оператор точного сравнения для любых объектов (автоматического приведения типов не выполняется)s</li>
</ul>
<h3 id="проверки-типов--в-разработке">Проверки типов  (в разработке):<a class="td-heading-self-link" href="#%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b8-%d1%82%d0%b8%d0%bf%d0%be%d0%b2--%d0%b2-%d1%80%d0%b0%d0%b7%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b5" aria-label="Heading self-link"></a></h3>
<p>Проверка имени класса «~» - немного похож на оператор instanceof в Java.
Левым оператором должен быть проверяемый объект, а правым оператором - название типа, строка литерал или объект строкового типа с именем класса.
Результатом операции будет истина, если правый операнд содержит название класса проверяемого объекта или он присутствует в иерархии наследования у проверяемого класса.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    name :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;class&#34;</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Строка с именем класса</span>
</span></span><span style="display:flex;"><span>    var ~ :class<span style="color:#000;font-weight:bold">;</span> 
</span></span><span style="display:flex;"><span>    var ~ <span style="color:#4e9a06">&#34;class&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    var ~ name<span style="color:#000;font-weight:bold">;</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>«value», <span style="color:#000">field2</span><span style="color:#ce5c00;font-weight:bold">=</span>2, <span style="color:#000">field3</span><span style="color:#ce5c00;font-weight:bold">=</span>«33»,<span style="color:#ce5c00;font-weight:bold">)</span> ~~ <span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Истина (т. е. левый операнд словарь)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>«value», <span style="color:#000">field2</span><span style="color:#ce5c00;font-weight:bold">=</span>2, <span style="color:#000">field3</span><span style="color:#ce5c00;font-weight:bold">=</span>«33»,<span style="color:#ce5c00;font-weight:bold">)</span> ~~ <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>_<span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тоже истина (т. к. поле field1 присутствует у левого операнда)</span>
</span></span></code></pre></div><p>Утиная типизация «~~» - приблизительный аналог функции isinstance() в Python, который для простых типов сравнивает совместимость типа левого операнда по отношению к правому, а для словарей и классов в левом операнде проверяется наличие всех имен полей, присутствующих у правого операнда. т. е.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>«value», <span style="color:#000">field2</span><span style="color:#ce5c00;font-weight:bold">=</span>2, <span style="color:#000">field3</span><span style="color:#ce5c00;font-weight:bold">=</span>«33»,<span style="color:#ce5c00;font-weight:bold">)</span> ~~ <span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Истина (т. е. левый операнд словарь)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>«value», <span style="color:#000">field2</span><span style="color:#ce5c00;font-weight:bold">=</span>2, <span style="color:#000">field3</span><span style="color:#ce5c00;font-weight:bold">=</span>«33»,<span style="color:#ce5c00;font-weight:bold">)</span> ~~ <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">field1</span><span style="color:#ce5c00;font-weight:bold">=</span>_<span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># Тоже истина (т. к. поле field1 присутствует у левого операнда)</span>
</span></span></code></pre></div><p>Строгая утиная типизация «~~~» - для простых типов сравнивается идентичности типов без учета совместимости,
а для составных типов происходит строгое сравнение всех свойств. Для данной операции, пустой тип совместим только с другим пустим типом!</p>
<h2 id="управляющие-конструкции-в-разработке">Управляющие конструкции (в разработке)<a class="td-heading-self-link" href="#%d1%83%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d1%8f%d1%8e%d1%89%d0%b8%d0%b5-%d0%ba%d0%be%d0%bd%d1%81%d1%82%d1%80%d1%83%d0%ba%d1%86%d0%b8%d0%b8-%d0%b2-%d1%80%d0%b0%d0%b7%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b5" aria-label="Heading self-link"></a></h2>
<h3 id="условный-оператор">Условный оператор<a class="td-heading-self-link" href="#%d1%83%d1%81%d0%bb%d0%be%d0%b2%d0%bd%d1%8b%d0%b9-%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80" aria-label="Heading self-link"></a></h3>
<p>В качестве оператора проверки условия используется синтаксическая конструкция, соответствующая по смыслу термину «следует»,
т.е. тире и угловая скобка «-&gt;». Такая запись условного оператора очень похожа на математическую и легко объединяется в последовательности для проверки множественных условий вида «else if».</p>
<p>В общем случае условный оператор имеет вид:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    условие -&gt; действие<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    или  
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span>условие<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие<span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    или  
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span>условие1 <span style="color:#ce5c00;font-weight:bold">||</span> условие2<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие<span style="color:#ce5c00;font-weight:bold">}</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие иначе<span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span>
</span></span></code></pre></div><p>Или расширенный вариант «else if», для наглядности записанный с отступами:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span>условие1<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие1<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">(</span>условие2<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие2<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">(</span>условие3<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие3<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        -&gt; <span style="color:#ce5c00;font-weight:bold">{</span>действие_иначе<span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span>
</span></span></code></pre></div><h3 id="операторы-циклов-в-планах">Операторы циклов (в планах)<a class="td-heading-self-link" href="#%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b-%d1%86%d0%b8%d0%ba%d0%bb%d0%be%d0%b2-%d0%b2-%d0%bf%d0%bb%d0%b0%d0%bd%d0%b0%d1%85" aria-label="Heading self-link"></a></h3>
<p><em>Операторы циклов пока в разработке , т. к. плотно связаны с итераторами.</em></p>
<p>Пока планирую для циклов использовать  конструкции: (условие) <strong>&lt;&ndash;&gt;</strong> {тело цикла};</p>
<p>Или так: (условие) <strong>-&raquo;</strong> {тело цикла};</p>
<p>И хотя синтаксис мне не очень нравится, но я решил пока не ломать над этим голову и планирую попробовать несколько вариантов оформления циклов.</p>
<h4 id="операторы-прерывания-потока-выполнения-команд-реализовано-частично">Операторы прерывания потока выполнения команд (реализовано частично)<a class="td-heading-self-link" href="#%d0%be%d0%bf%d0%b5%d1%80%d0%b0%d1%82%d0%be%d1%80%d1%8b-%d0%bf%d1%80%d0%b5%d1%80%d1%8b%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-%d0%bf%d0%be%d1%82%d0%be%d0%ba%d0%b0-%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b5%d0%bd%d0%b8%d1%8f-%d0%ba%d0%be%d0%bc%d0%b0%d0%bd%d0%b4-%d1%80%d0%b5%d0%b0%d0%bb%d0%b8%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%be-%d1%87%d0%b0%d1%81%d1%82%d0%b8%d1%87%d0%bd%d0%be" aria-label="Heading self-link"></a></h4>
<p>Оператором прерывания потока выполнения команд и возврата из текущей функции, т.е. самым близким аналогом оператора return<br>
является оператор два символа минус «&ndash;». Но в отличие от классического return, оператор возврата не возвращает значения,
т.к. значение из любой функции или блока кода возвращается всегда и им является результат выполнения самой последней операции
(или None, если такая операция отсутствует).</p>
<p>Пока не придумал, как оформлять оператор прерывания потока выполнения в случае ошибки (при его выполнении будет происходить генерация исключения),
поэтому, если будут предложения, пишите в комментариях к статье (и про оформление циклов тоже).</p>
<h3 id="обработка-ошибок-в-планах">Обработка ошибок (в планах)<a class="td-heading-self-link" href="#%d0%be%d0%b1%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%ba%d0%b0-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba-%d0%b2-%d0%bf%d0%bb%d0%b0%d0%bd%d0%b0%d1%85" aria-label="Heading self-link"></a></h3>
<p>В самом начале работ я ориентировался на классический вариант обработки исключений,
который в обычных языках программирования обычно оформляется ключевыми словами  <em>try</em> .. <em>catch</em> .. <em>finally</em> с различными вариациями.
Но в условиях жестких ограничений на синтаксис языка, и невозможности использовать ключевые слова,
комбинировать символы для указания разных типов блоков при обработке исключений, было бы крайне сомнительной затеей.
Ведь основная цель разработки NewLang — простота и понятность кода, а тут с самого начала могут появиться комбинации скобочек, стрелочек,
палочек и других подобных символов.</p>
<p>И тут в голову пришла очень простая мысль. А ненужно повторять логику обработки ошибок из классических языков программирования!
Ведь основная цель подобных синтаксических конструкций - выделить участок кода где возможно возникновение ошибки,
перехватить и обработать правильный тип исключения.
Ведь классические языки программирования изначально были жестко привязаны к машинному представлению данных в оперативной памяти компьютера
и тип данных для них играл принципиально важное значение.
Но это не является ограничением для языков с динамической типизацией!</p>
<p>Поэтому, подход к обработке исключений планируется следующий: Программный код, который может привести к ошибке, заключается в двойные фигурные скобки
<strong>{{</strong> <i>любой код или вызов одиночной функции</i>  <strong>}}</strong>,
а результат выполнения такого блока кода присваивается переменной. После этого анализируется возвращенное значение и тип исключения может обрабатываться обычным условным оператором.</p>
<p>Наверно, это проще показать на примере:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    <span style="color:#000">$error</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{{</span> <span style="color:#8f5902;font-style:italic"># начало блока try</span>
</span></span><span style="display:flex;"><span>        call_or_exception1<span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#000;font-weight:bold">;</span> 
</span></span><span style="display:flex;"><span>        call_or_exception2<span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#000;font-weight:bold">;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}}</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># конец блока try</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Обычные условные операторы вместо типизированных блоков catch</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">$error</span> ~ :type1<span style="color:#ce5c00;font-weight:bold">)</span>-&gt;<span style="color:#ce5c00;font-weight:bold">{</span> код обработки ошибки 1<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">$error</span> ~ :type2<span style="color:#ce5c00;font-weight:bold">)</span>-&gt;<span style="color:#ce5c00;font-weight:bold">{</span> код обработки ошибки 2<span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#000;font-weight:bold">;</span>
</span></span></code></pre></div><p>Самое удивительное, что при таком подходе значительно упрощается и семантика блоков <em>try</em> <strong>…</strong> <em>finally</em>, которые вообще становятся не нужны.</p>
<p>Исходный код на Java:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">try</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">{</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">try</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">{</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">throw</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Exception</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;a&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#000;font-weight:bold">}</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">finally</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">{</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">throw</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">new</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">IOException</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;b&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#000;font-weight:bold">}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000;font-weight:bold">}</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">catch</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">IOException</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ex</span><span style="color:#000;font-weight:bold">)</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">{</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#000">System</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">err</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ex</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">getMessage</span><span style="color:#000;font-weight:bold">());</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000;font-weight:bold">}</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">catch</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Exception</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ex</span><span style="color:#000;font-weight:bold">)</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">{</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#000">System</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">err</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ex</span><span style="color:#000;font-weight:bold">.</span><span style="color:#c4a000">getMessage</span><span style="color:#000;font-weight:bold">());</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000;font-weight:bold">}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Эквивалентный ему на NewLang:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#000">$catch</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{{</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#000">$finally</span> :<span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">{{</span>  
</span></span><span style="display:flex;"><span>	Error1<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}}</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    Error2<span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span> 	<span style="color:#8f5902;font-style:italic"># Строка выполнится даже при возникновении исключении Error1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">$finally</span><span style="color:#000;font-weight:bold">;</span>		<span style="color:#8f5902;font-style:italic"># Error1 вернется, если не будет Error2</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">$catch</span> ~ :Error1<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; printf<span style="color:#ce5c00;font-weight:bold">(</span>«%s», <span style="color:#000">$catch</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">$catch</span> ~ :Error2<span style="color:#ce5c00;font-weight:bold">)</span> -&gt; printf<span style="color:#ce5c00;font-weight:bold">(</span>«%s», <span style="color:#000">$catch</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#000;font-weight:bold">;</span>
</span></span></code></pre></div><h2 id="как-все-это-попробовать">Как все это попробовать?<a class="td-heading-self-link" href="#%d0%ba%d0%b0%d0%ba-%d0%b2%d1%81%d0%b5-%d1%8d%d1%82%d0%be-%d0%bf%d0%be%d0%bf%d1%80%d0%be%d0%b1%d0%be%d0%b2%d0%b0%d1%82%d1%8c" aria-label="Heading self-link"></a></h2>
<p>Сейчас сборка проекта реализована только под Linux и если кроме текстового описания захочется в живую поэкспериментировать на своей машине, то придется собрать интерпретатор из исходников самостоятельно.</p>
<p>Так как текущий вариант предназначен первую очередь для отработки концепции, то часть из описанных возможностей пока не реализована (алгоритмические конструкции, наследование классов, итераторы, некоторые операции и т. д).</p>
<p>Но можно поиграться с созданием переменных, вызовом функций и выполнением арифметических операций над данными, чтобы оценить синтаксис, основанный на правилах, и может быть, предложить свои собственные мысли и доработки для его улучшения.</p>
<h3 id="сборка-repl-из-исходников-пока-только-под-linux">Сборка REPL из исходников (пока только под Linux)<a class="td-heading-self-link" href="#%d1%81%d0%b1%d0%be%d1%80%d0%ba%d0%b0-repl-%d0%b8%d0%b7-%d0%b8%d1%81%d1%85%d0%be%d0%b4%d0%bd%d0%b8%d0%ba%d0%be%d0%b2-%d0%bf%d0%be%d0%ba%d0%b0-%d1%82%d0%be%d0%bb%d1%8c%d0%ba%d0%be-%d0%bf%d0%be%d0%b4-linux" aria-label="Heading self-link"></a></h3>
<h4 id="подготовка-репозитория">Подготовка репозитория<a class="td-heading-self-link" href="#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f" aria-label="Heading self-link"></a></h4>
<ul>
<li>Скачать <a href="https://github.com/rsashka/newlang">исходники</a></li>
<li>Скачать и развернуть архив libtorch в каталоге contrib (PyTorch Build: Stable (1.10.*) -&gt; Your OS: Linux -&gt; Package: LibTorch -&gt; Language: C++ / Java -&gt; Compute Platform: CPU -&gt; Download here (cxx11 ABI): libtorch-cxx11-abi-shared-with-deps-1.10.2+cpu.zip)</li>
<li>Активировать и скачать исходники субмодулей (git submodule init &amp;&amp; git submodule update)</li>
<li>В каталоге <em>contrib</em> запустить файл <em>build.sh</em> для сборки библиотеки libffi</li>
<li>В каталоге <em>core</em> запустить файл <em>compile_syntax.sh</em> для генерации файлов парсера и лексического анализатора. Может потребоваться установка утилит flex и bison. Если что, у меня установлены flex 2.6.4 и bison (GNU Bison) 3.7.4</li>
</ul>
<h4 id="собрать">Собрать<a class="td-heading-self-link" href="#%d1%81%d0%be%d0%b1%d1%80%d0%b0%d1%82%d1%8c" aria-label="Heading self-link"></a></h4>
<ul>
<li>Юнит-тесты (newlang_test): в каталоге core выполнить команду <em>make CONF=UnitTest</em></li>
<li>Интерпретатор (nlc): в каталоге core выполнить команду <em>make CONF=Debug</em></li>
</ul>
<h2 id="утилита-nlc-newlangcompiler">Утилита nlc (NewLangCompiler)<a class="td-heading-self-link" href="#%d1%83%d1%82%d0%b8%d0%bb%d0%b8%d1%82%d0%b0-nlc-newlangcompiler" aria-label="Heading self-link"></a></h2>
<p>В текущее время nlc поддерживать работу только в режиме интерпретатора (несмотря на название).
Для тестирования и простой проверки компилятор не нужен, хотя на первых порах я делал именно его.
Но трудоемкость работ по постоянной переделке под новый синтаксис оказалась очень высокой, поэтому на время первичной отладки языковых конструкций было принято волевое решение ограничиться интерпретатором,
как более простым и быстрым способом проверки различных гипотез, а разработку настоящего компилятора (в виде трансплайтера на язык С++),
отложить до окончательной проработки синтаксиса.</p>
<h2 id="планы-на-будущее">Планы на будущее<a class="td-heading-self-link" href="#%d0%bf%d0%bb%d0%b0%d0%bd%d1%8b-%d0%bd%d0%b0-%d0%b1%d1%83%d0%b4%d1%83%d1%89%d0%b5%d0%b5" aria-label="Heading self-link"></a></h2>
<p>Естественное, одна статья и несколько маленьких примеров не дают исчерпывающей информации о возможностях языка.
Да и сами возможности пока не раскрыты в полной мере.
Ведь текущая версия, это скорее тестовая платформа для проверки декларируемых концепций и основного синтаксиса.</p>
<p>Пока остаются не реализованными некоторые из заявленных возможностей и очень важных хотелок.
Но протестировать основной подход можно уже сейчас, и я буду благодарен за любую обратную связь и предложения.</p>
<p>Если говорить о планах (естественно, в будущих версиях что-то может добавиться или измениться порядок их реализации), но в настоящий момент роадмап развития NewLang мне видится следующим образом:</p>
<ul>
<li>Доделать стандартные управляющие конструкции, обработку ошибок и итераторы.</li>
<li>Доработать систему типов с учетом множественного наследования классов.</li>
<li>Реализовать длинную арифметику и дроби.</li>
<li>Сделать какую нибудь логическую игру (крестики нолики, судоку или что-то похожее) с алгоритмическим выбором следующего хода и его вычислением с помощью машинного обучения.</li>
<li>Написать много разных примеров для оценки синтаксиса.</li>
<li>Доработать синтаксис с учетом полученного опыта и обратной связи.</li>
<li>Восстановить работоспособность компилятора для генерации исполняемых файлов.</li>
<li>Сделать очередную большую чистку кода.</li>
<li>Переработать и задокументировать получившуюся семантику языка с учетом всех возможностей и выпустить первую полнофункциональную версию NewLang.</li>
</ul>
<p><a href="https://habr.com/companies/timeweb/articles/651999/">Ссылка на первую публикаци</a></p>

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5">
  <li>
    <a href="/blog/prog-styles-same-time/" aria-label="Previous - Можно ли использовать декларативный и императивный стили написания программ одновременно?" class="btn btn-primary"><span class="me-1">←</span>Previous</a>
  </li>
  <li>
    <a href="/blog/release-v0.1/" aria-label="Next - Релиз языка программрования NewLang" class="btn btn-primary">Next<span class="ms-1">→</span></a>
  </li>
</ul>

	</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="User mailing list" aria-label="User mailing list">
    <a target="_blank" rel="noopener" href="mailto:mail@newlang.net" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="" aria-label="">
    <a target="_blank" rel="noopener" href="" aria-label="">
      <i class=""></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="" aria-label="">
    <a target="_blank" rel="noopener" href="" aria-label="">
      <i class=""></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/rsashka/newlang" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="" aria-label="">
    <a target="_blank" rel="noopener" href="" aria-label="">
      <i class=""></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="" aria-label="">
    <a target="_blank" rel="noopener" href="" aria-label="">
      <i class=""></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2024
    <span class="td-footer__authors">The NewLang Authors</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.js"></script>
<script defer src="/js/click-to-copy.js" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>